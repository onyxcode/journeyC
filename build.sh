#!/bin/bash
"""

░█████╗░  ░█████╗░░█████╗░███╗░░░███╗██████╗░██╗██╗░░░░░███████╗██████╗░
██╔══██╗  ██╔══██╗██╔══██╗████╗░████║██╔══██╗██║██║░░░░░██╔════╝██╔══██╗
██║░░╚═╝  ██║░░╚═╝██║░░██║██╔████╔██║██████╔╝██║██║░░░░░█████╗░░██████╔╝
██║░░██╗  ██║░░██╗██║░░██║██║╚██╔╝██║██╔═══╝░██║██║░░░░░██╔══╝░░██╔══██╗
╚█████╔╝  ╚█████╔╝╚█████╔╝██║░╚═╝░██║██║░░░░░██║███████╗███████╗██║░░██║
░╚════╝░  ░╚════╝░░╚════╝░╚═╝░░░░░╚═╝╚═╝░░░░░╚═╝╚══════╝╚══════╝╚═╝░░╚═╝

(Works on any Linux distro with gcc and chmod)

"""

while getopts f: flag
do
    case "${flag}" in
        f) file=${OPTARG};;
    esac
done

if [[ -z "$file" ]]; then
    echo "Must provide filename with -f" 1>&2
    exit 1
fi

gcc ${file} -Wall -Wextra -pedantic -o ${file}.tmp
{
chmod +x ${file}.tmp
} &> /dev/null
./${file}.tmp
{
    rm ${file}.tmp
} &> /dev/null